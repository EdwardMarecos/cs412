<!-- templates/restaurant/order.html -->

<!-- 
display an online order form 
-->


{% extends 'restaurant/base.html' %}

{% block content %}
<!-- specific page details -->

<div class="container">
    <h2>Place an Order</h2>

    <!-- Display the Daily Special -->
    <h3>Today's Special: {{ daily_special.0 }}</h3>
    <p>Price: ${{ daily_special.1|floatformat:2 }}</p>

    <h3>Order form</h3>
    <form action="{% url 'confirmation' %}" method="POST">
        <!-- fix the action, make the url hidden too -->
        {% csrf_token %}
         <!-- the csfr token is a security measure to veridy
          that the web app only accepts a form that was 
          authenticially generated by the app -->
          <hr>
        
          <label for="name">Name</label><br>
          <input type="text" id="name" name="name" required><br>
          
          <label for="email">Email</label><br>
          <input type="email" id="email" name="email" required><br>

          <label for="phone">Phone</label><br>
          <input type="phone" id="phone" name="phone" required><br>
          
          <!-- Checkboxes for the Daily Special -->
          <h4>Daily Special</h4>
            <div class="checkbox-row">
                <input type="checkbox" id="special" name="item" value="{{ daily_special.0 }}">
                <label for="special">{{ daily_special.0 }} - <span class="price">${{ daily_special.1|floatformat:2 }}</span></label>
            </div>

            
            <!-- Checkboxes for the Regular Menu -->
            <h4>Regular Menu</h4>
            {% for item, price in regular_menu.items %}
            <div class="checkbox-row">
                <input type="checkbox" id="item_{{ forloop.counter }}" name="item" value="{{ item }}">
                <label for="item_{{ forloop.counter }}">{{ item }} - <span class="price">${{ price|floatformat:2 }}</span></label>
            </div>
            {% endfor %}

            <!-- Checkboxes for the Boba add-ons Menu -->
            <h4>Boba Add-ons</h4>
            {% for addon, price in peach_boba_addons.items %}
            <div class="checkbox-row">
                <input type="checkbox" id="addon_{{ forloop.counter }}" name="addon" value="{{ addon }}">
                <label for="addon_{{ forloop.counter }}">{{ addon }} - <span class="price">${{ price|floatformat:2 }}</span></label>
            </div>
            {% endfor %}

            <!-- Text area for customer requests -->
        <label for="special-requests">Special Requests</label><br>
        <textarea id="special-requests" name="requests" rows="4" cols="50" placeholder="Any special requests? (e.g., extra sweet, no ice)"></textarea><br>
            
        <input type="hidden" name="mailto" value="emarecos@bu.edu"><br>
        <input type="submit">
    </form>
</div>

{% endblock %}


